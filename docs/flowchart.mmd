flowchart TD
    N0["Validate header, supplier, totals, currency"]
    N1["Map invoice fields based on source system"]
    N2(["Invoice Received from Rillion"])
    N3["Determine invoice source"]
    N4["Check supplier in ERP"]
    N5{"Supplier exists?"}
    N6["Create supplier sync task"]
    N7["Submit invoice to ERP"]
    N8["ERP API call"]
    N0 --> N1
    N2 --> N3
    N3 --> N4
    N4 --> N5
    N5 -->|No| N6
    N5 -->|Yes| N7
    N7 --> N8
